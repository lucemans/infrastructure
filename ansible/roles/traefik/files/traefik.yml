api:
  dashboard: true
  insecure: false

providers:
  kubernetesIngress:
    namespaces: []
  docker:
    exposedByDefault: false
  file:
    filename: /static.yml

entryPoints:
  web:
    address: ':80'
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
  websecure:
    address: ':443'
  minecraft:
    address: ':25565'
  minecraftudp:
    address: ':25565/udp'

certificatesResolvers:
  letsencrypt:
    acme:
      caServer: https://acme-v02.api.letsencrypt.org/directory
      dnsChallenge:
        provider: cloudflare
        delayBeforeCheck: 0

metrics:
  influxDB:
    addServicesLabels: true
    addEntryPointsLabels: true

accessLog:
  filePath: "/access.log"
  filters:    
    statusCodes:
      - "500-510"
      - "300-302"
      - "400-410"
  fields:
    defaultMode: keep
    names:
      ClientUsername: keep
    headers:
      defaultMode: keep
      names:
          User-Agent: keep
          Authorization: keep
          Content-Type: keep